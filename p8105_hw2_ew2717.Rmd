---
title: "p8105_hw2_ew2717"
author: "Eric Wang"
output: github_document
---

```{r setup, echo = FALSE, message = FALSE}

library(tidyverse)
library(readxl)
library(lubridate)

```

## Problem 1

#### Importing data from Mr. Trash Wheel, cleaning the data, and then filtering it.

```{r importing, cleaning, filtering trash wheel}

trash_wheel_data <-
  read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
  sheet = "Mr. Trash Wheel",
  range = "A2:N408") %>% 
  janitor::clean_names() %>% 
  filter(!str_detect(month,'Total')) %>% 
  mutate(sports_balls = round(sports_balls))

## view(trash_wheel_data)

```

#### Importing data from 2018 Precipitation, cleaning the data, and then filtering it.

```{r importing, cleaning, filtering 2018 precipitation}

precipitation_2018_data <-
  read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
  sheet = "2018 Precipitation",
  range = "A2:B15") %>% 
  janitor::clean_names() %>% 
  mutate(year = 2018) %>% 
  drop_na()

## view(precipitation_2018_data)

```

#### Importing data from 2019 Precipitation, cleaning the data, and then filtering it.

```{r importing, cleaning, filtering 2019 precipitation}

precipitation_2019_data <-
  read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
  sheet = "2019 Precipitation",
  range = "A2:B15") %>% 
  janitor::clean_names() %>% 
  mutate(year = 2019) %>% 
  drop_na()

## view(precipitation_2019_data)

```

#### Combining the data from 2018 Precipitation and 2019 Precipitation. 

```{r combining data}

precipitation_combined_data <-
  bind_rows(precipitation_2018_data, precipitation_2019_data) %>% 
  mutate(month = month.name[month]) %>% 
  relocate(year, month, total)

## view(precipitation_combined_data)

```

#### Data Observations

```{r names total median mean rows and cols}

precipitation2018_names = precipitation_2018_data %>% names()
precipitation2019_names = precipitation_2019_data %>% names()
precipitation2018_total = precipitation_2018_data %>% summarise(sum(total))
precipitation2019_total = precipitation_2019_data %>% summarise(sum(total))
precipitation2018_median = precipitation_2018_data %>% summarise(median(total))
precipitation2019_median = precipitation_2019_data %>% summarise(median(total))
precipitation2018_mean = precipitation_2018_data %>% summarise(mean(total))
precipitation2019_mean = precipitation_2019_data %>% summarise(mean(total))
precipitation2018_row = precipitation_2018_data %>% nrow()
precipitation2019_row =  precipitation_2019_data %>% nrow()
precipitation2018_col = precipitation_2018_data %>% ncol()
precipitation2019_col = precipitation_2019_data %>% ncol()

```

We have found that the variable names for the 2018 precipitation data set are **`r precipitation2018_names`**, and the variable names for the 2019 precipitation data set are **`r precipitation2019_names`**. The total amount of precipitation in 2018 was **`r precipitation2018_total`**, and the total amount of precipitation in 2019 was **`r precipitation2019_total`**.The mean amount of precipitation in 2018 was **`r precipitation2018_mean`**, and the mean amount of precipitation in 2019 was **`r precipitation2019_mean`**. The median amount of precipitation in 2018 was **`r precipitation2018_median`**, and the median amount of precipitation in 2019 was **`r precipitation2019_median`**. The total number of rows in the 2018 precipitation data set is **`r precipitation2018_row`**, and the total number of rows in the 2019 precipitation data set is **`r precipitation2019_row`**. Lastly, the total number of columns in the 2018 precipitation data set is **`r precipitation2018_col`**, and the total number of columns in the 2019 precipitation data set is **`r precipitation2019_col`**.

## Problem 2

#### Importing data from FiveThirtyEight and cleaning it.

```{r importing and cleaning fivethirtyeight}

pols_month_data <- 
  read_csv("data/fivethirtyeight_datasets/pols-month.csv") %>%
  janitor::clean_names() %>%
  separate(col = mon, into = c("year","month", "day")) %>% 
  mutate(across(.col = c(year, month, day), as.integer)) %>% 
  mutate(month = month.name[month])

pols_month_data

```



