p8105\_hw2\_ew2717
================
Eric Wang

## Problem 1

#### Importing data from Mr.Â Trash Wheel, cleaning the data, and then filtering it.

``` r
trash_wheel_data <-
  read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
  sheet = "Mr. Trash Wheel",
  range = "A2:N408") %>% 
  janitor::clean_names() %>% 
  filter(!str_detect(month,'Total')) %>% 
  mutate(sports_balls = round(sports_balls))

## view(trash_wheel_data)
```

#### Importing data from 2018 Precipitation, cleaning the data, and then filtering it.

``` r
precipitation_2018_data <-
  read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
  sheet = "2018 Precipitation",
  range = "A2:B15") %>% 
  janitor::clean_names() %>% 
  mutate(year = 2018) %>% 
  drop_na()

## view(precipitation_2018_data)
```

#### Importing data from 2019 Precipitation, cleaning the data, and then filtering it.

``` r
precipitation_2019_data <-
  read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
  sheet = "2019 Precipitation",
  range = "A2:B15") %>% 
  janitor::clean_names() %>% 
  mutate(year = 2019) %>% 
  drop_na()

## view(precipitation_2019_data)
```

#### Combining the data from 2018 Precipitation and 2019 Precipitation.

``` r
precipitation_combined_data <-
  bind_rows(precipitation_2018_data, precipitation_2019_data) %>% 
  mutate(month = month.name[month]) %>% 
  relocate(year, month, total)

## view(precipitation_combined_data)
```

#### Data Observations

``` r
precipitation2018_names = precipitation_2018_data %>% names()
precipitation2019_names = precipitation_2019_data %>% names()
precipitation2018_total = precipitation_2018_data %>% summarise(sum(total))
precipitation2019_total = precipitation_2019_data %>% summarise(sum(total))
precipitation2018_median = precipitation_2018_data %>% summarise(median(total))
precipitation2019_median = precipitation_2019_data %>% summarise(median(total))
precipitation2018_mean = precipitation_2018_data %>% summarise(mean(total))
precipitation2019_mean = precipitation_2019_data %>% summarise(mean(total))
precipitation2018_row = precipitation_2018_data %>% nrow()
precipitation2019_row =  precipitation_2019_data %>% nrow()
precipitation2018_col = precipitation_2018_data %>% ncol()
precipitation2019_col = precipitation_2019_data %>% ncol()
```

We have found that the variable names for the 2018 precipitation data
set are **month, total, year**, and the variable names for the 2019
precipitation data set are **month, total, year**. The total amount of
precipitation in 2018 was **70.33**, and the total amount of
precipitation in 2019 was **33.95**.The mean amount of precipitation in
2018 was **5.8608333**, and the mean amount of precipitation in 2019 was
**2.8291667**. The median amount of precipitation in 2018 was **5.455**,
and the median amount of precipitation in 2019 was **3.335**. The total
number of rows in the 2018 precipitation data set is **12**, and the
total number of rows in the 2019 precipitation data set is **12**.
Lastly, the total number of columns in the 2018 precipitation data set
is **3**, and the total number of columns in the 2019 precipitation data
set is **3**.

## Problem 2

#### Importing data from FiveThirtyEight, specifically pols-month, and cleaning it.

``` r
pols_month_data <- 
  read_csv("data/fivethirtyeight_datasets/pols-month.csv") %>%
  janitor::clean_names() %>%
  separate(col = mon, into = c("year","month", "day")) %>% 
  mutate(across(.col = c(year, month, day), as.integer)) %>% 
  mutate(month = month.name[month]) %>% 
  mutate(president = case_when(prez_gop == 1 ~ "gop", prez_gop == 2 ~ "gop", prez_dem == 1 ~ "dem")) %>% 
  select(-day, -prez_dem, -prez_gop) %>% 
  select(year, month, president, everything())
```

    ## Rows: 822 Columns: 9

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
view(pols_month_data)
```

#### Importing data from FiveThirtyEight, specifically snp, and cleaning it.

``` r
snp_data <- 
  read_csv("data/fivethirtyeight_datasets/snp.csv") %>%
  janitor::clean_names() %>% 
  mutate(date = mdy(date)) %>% 
  separate(col = date, into = c("year","month", "day")) %>% 
  mutate(across(.col = c(year, month, day), as.integer)) %>% 
  mutate(month = month.name[month]) %>% 
  select(-day)
```

    ## Rows: 787 Columns: 2

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
view(snp_data)
```

#### Importing data from FiveThirtyEight, specifically unemployment, and cleaning it.

``` r
unemployment_data <- 
  read_csv("data/fivethirtyeight_datasets/unemployment.csv") %>%
  janitor::clean_names() %>%
  pivot_longer(
  jan:dec,
  names_to = "month", 
  values_to = "percentage") %>% 
  mutate(across(.col = c(year), as.integer)) %>% 
  mutate(month = recode(month, "jan" = "January", "feb" = "February", "mar" = "March", "apr" = "April", "may" = "May", "jun" = "June", "jul" = "July", "aug" = "August", "sep" = "September", "oct" = "October", "nov" = "November", "dec" = "December"))
```

    ## Rows: 68 Columns: 13

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
view(unemployment_data)
```

#### Combining the pols and snp data.

``` r
pols_snp_merged <-
  left_join(pols_month_data, snp_data, by = c("year", "month"))

view(pols_snp_merged)
```

#### Combining newly constructed data and umeployment data.

``` r
final_merged <-
  left_join(pols_snp_merged, unemployment_data, by = c("year", "month"))

view(final_merged)
```
